import { type CustomAction, CrudMenuPosition, UiSchema } from '@genesislcap/foundation-entity-management';

{{#each tile.config.customEvents}}
{{#if this.hasForm}}
export const {{camelCase this.name}}FormSchema: UiSchema = {{{this.uischema}}};
{{/if}}
{{/each}}

export const customActions: CustomAction[] = [
  {{#each tile.config.customEvents}}
  {
    name: '{{this.name}}',
    action: {
      type: 'event',
      event: 'EVENT_{{this.baseEvent}}',
      hasForm: {{this.hasForm}},
      {{#if this.hasForm}}
      uiSchema: {{camelCase this.name}}FormSchema,
      {{/if}}
      defaultValues: {{{this.defaultValues}}},
    },
    position: CrudMenuPosition.Column,
    {{#if this.icon}}
    icon: '{{this.icon}}',
    {{/if}}
    {{#if this.tooltip}}
    tooltip: '{{this.tooltip}}',
    {{/if}}
    {{#if this.confirmSubmit}}
    confirmSubmit: {
      state: '{{this.confirmSubmit.state}}',
      message: '{{this.confirmSubmit.message}}'
    },
    {{/if}}
    requiresSelection: true,
  },
  {{/each}}
];
